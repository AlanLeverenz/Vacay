<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>My Currency</title>

    <!-- jQuery -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
</head>
<body>
    
<h1>MY CURRENCY</h1>

<div class="dropdown">
    <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Currency
    </button>
    <div class="dropdown-menu" id="select" aria-labelledby="dropdownMenuButton"></div>
</div>

<div class="dropdown">
    <button class="btn btn-light dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Currency
    </button>
    <div class="dropdown-menu" id="select" aria-labelledby="dropdownMenuButton"></div>
</div>


<h5>Exchange rate: </h5>

<script>

// var options = ["USD", "EUR", "AED", "AFN", "ALL", "AMD", "ANG",
//     "AOA", "ARS", "AUD", "AWG", "AZN", "BAM", "BND",
//     "BOB", "BRL", "BSD", "BTN", "BWP", "BYN", "BZD",
//     "CAD", "CDF", "CLP", "CNY", "COP", "CRC", "CUC",
//     "CUP", "CVE", "CZK", "DJF", "DKK", "DOP", "DZD",
//     "EGP", "ERN", "ETB", "EUR", "FJD", "FKP", "GBP",
//     "GEL", "GGP", "GHS", "GIP", "GMD", "GNF", "GTQ",
//     "GYD", "HKD", "HNL", "HRK", "HTG", "HUF", "IDR",
//     "ILS", "IMP", "INR", "IQD", "IRR", "ISK", "JEP",
//     "JMD", "JOD", "JPY", "KES", "KGS", "KHR", "KMF",
//     "KPW", "KRW", "KWD", "KYD", "KST", "LAK", "LBP",
//     "LKR", "LRD", "LSL", "LYD", "MAD", "MDL", "MGA",
//     "MKD", "MMK", "MNT", "MOP", "MRU", "MUR", "MVR",
//     "MWK", "MXN", "MYR", "MZN", "NAD", "NGN", "NIO",
//     "NOK", "NPR", "NZD", "OMR", "PAB", "PEN", "PGK",
//     "PHP", "PKR", "PLN", "PYG", "QAR", "RON", "RSD",
//     "RUB", "RWF", "SAR", "SBD", "SCR", "SDG", "SEK",
//     "SGD", "SHP", "SLL", "SOS", "SPL", "SRD", "STN",
//     "SVC", "SYP", "SZL", "THB", "TJS", "TMT", "TND",
//     "TOP", "TRY", "TTD", "TVD", "TWD", "TZS", "UAH",
//     "UGX", "UYU", "UZS", "VEF", "VND", "VUV", "WST",
//     "XAF", "XCD", "XDR", "XOF", "XPF", "YER", "ZAR",
//     "ZMW", "ZWD"];
//     $('#select').empty();
//     $.each(options, function(i, p) {
//         $('#select').append($('<a class="dropdown-item" href="#"></a>').val(p).html(p));
//     });

// API TEST

var result = {
    "success": true,
    "terms": "https://currencylayer.com/terms",
    "privacy": "https://currencylayer.com/privacy",
    "timestamp": 1568045286,
    "source": "USD",
    "quotes": {
    "USDEUR": 0.90415,
    "USDGBP": 0.80861,
    "USDCAD": 1.314305,
    "USDPLN": 3.91966
    }
}
    

    // // build queryURL
    // var queryURL = "https://restcountries.eu/rest/v2/name/" + search;
    // console.log(queryURL);
    // $.ajax({
    //     url: queryURL,
    //     method: "GET"
    // }).then(function(results) {
    //     console.log(results[0]);
    // });


// var myURL = 'http://apilayer.net/api/live?access_key=01b52c666cbce3e38e9f5458de93fd6c&currencies=EUR,GBP,CAD,PLN&source=USD&format=1';

// set endpoint and your access key

endpoint = 'live'
access_key = '01b52c666cbce3e38e9f5458de93fd6c';
currencies = "MXN";
source = "USD";
format = "1";
url = "https://apilayer.net/api/";

full_url = url + endpoint + '?access_key=' + access_key + "&currencies=" + currencies + "&source=" + source + "&format=" + format;


// get the most recent exchange rates via the "live" endpoint:
$.ajax({
    url: my_url;
    // url: myURL;
    dataType: 'jsonp',
    method: "GET"
}).then(function(json) {

    console.log(json);

    //    var currencyDiv = $("#exchangeRateDisplay");
    //    var myQuote = "<p><b>Exchange Rate: " + quote + "</b></p>";
    //    currencyDiv.append(myQuote);

        // exchange rata data is stored in json.quotes
        console.log(json.quotes.USDGBP);
        
        // source currency is stored in json.source
        console.log(json.source);
        
        // timestamp can be accessed in json.timestamp
        console.log("LIVE: " + json.timestamp);
        
});


</script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

</body>
</html>